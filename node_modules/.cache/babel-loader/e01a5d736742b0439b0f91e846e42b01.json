{"ast":null,"code":"var _jsxFileName = \"D:\\\\python\\\\virtusa_frontend\\\\src\\\\upload.js\";\nimport React, { useState } from 'react';\nimport IconLabelButtons from \"./uploadicon\";\nimport CSVReader from \"react-csv-reader\";\nimport Box from \"@material-ui/core/Box\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles(theme => createStyles({\n  head: {\n    border: \"2px solid blue\",\n    min: \"10ch\",\n    backgroundColor: \"#ffffff\",\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: \"20%\",\n    shadowBlur: \"#2224FF\",\n    marginTop: \"25%\",\n    marginBottom: \"1%\",\n    marginRight: \"20%\",\n    borderRadius: 20,\n    padding: 30\n  }\n}));\n\nfunction Upload(props) {\n  const classes = useStyles();\n  const [result, setResult] = useState(true);\n  const [csvdata, setCSV] = useState('');\n  const [filename, setFile] = useState('');\n\n  const handleForce = (data, fileInfo) => (setCSV(data), setFile(fileInfo));\n\n  const papaparseOptions = {\n    header: true,\n    dynamicTyping: true,\n    skipEmptyLines: true,\n    transformHeader: header => header.toLowerCase().replace(/\\W/g, \"_\")\n  };\n\n  async function downloadResult() {\n    setResult(true);\n    fetch('http://127.0.0.1:8000/result/').then(response => {\n      response.blob().then(blob => {\n        let url = window.URL.createObjectURL(blob);\n        let a = document.createElement('a');\n        a.href = url;\n      });\n      window.location.href = response.url;\n    });\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    className: classes.head,\n    flexWrap: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CSVReader, {\n    cssClass: \"react-csv-input\",\n    label: \".csv with liver disease symptoms:\",\n    onFileLoaded: handleForce,\n    parserOptions: papaparseOptions,\n    inputStyle: {\n      opacity: 1,\n      width: '170px',\n      color: 'blue'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IconLabelButtons, {\n    func: downloadResult,\n    disabled: result,\n    label: \"Result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"select csv file or enter values manually and submit\")));\n}\n\nexport default Upload;","map":{"version":3,"sources":["D:/python/virtusa_frontend/src/upload.js"],"names":["React","useState","IconLabelButtons","CSVReader","Box","createStyles","makeStyles","useStyles","theme","head","border","min","backgroundColor","display","alignItems","justifyContent","marginLeft","shadowBlur","marginTop","marginBottom","marginRight","borderRadius","padding","Upload","props","classes","result","setResult","csvdata","setCSV","filename","setFile","handleForce","data","fileInfo","papaparseOptions","header","dynamicTyping","skipEmptyLines","transformHeader","toLowerCase","replace","downloadResult","fetch","then","response","blob","url","window","URL","createObjectURL","a","document","createElement","href","location","opacity","width","color"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport IconLabelButtons from \"./uploadicon\";\r\nimport CSVReader from \"react-csv-reader\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n    head: {\r\n        border: \"2px solid blue\",\r\n        min: \"10ch\",\r\n        backgroundColor: \"#ffffff\",\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginLeft: \"20%\",\r\n        shadowBlur: \"#2224FF\",\r\n        marginTop: \"25%\",\r\n        marginBottom: \"1%\",\r\n        marginRight: \"20%\",\r\n        borderRadius: 20,\r\n        padding: 30,\r\n    }\r\n\r\n}));\r\n\r\nfunction Upload(props) {\r\n    const classes = useStyles();\r\n    const [result, setResult] = useState(true);\r\n    const [csvdata, setCSV] = useState('');\r\n    const [filename, setFile] = useState('');\r\n    const handleForce = (data, fileInfo) => (setCSV(data), setFile(fileInfo));\r\n\r\n    const papaparseOptions = {\r\n        header: true,\r\n        dynamicTyping: true,\r\n        skipEmptyLines: true,\r\n        transformHeader: header => header.toLowerCase().replace(/\\W/g, \"_\")\r\n    };\r\n\r\n    async function downloadResult() {\r\n        setResult(true);\r\n        fetch('http://127.0.0.1:8000/result/')\r\n            .then(response => {\r\n                response.blob().then(blob => {\r\n                    let url = window.URL.createObjectURL(blob);\r\n                    let a = document.createElement('a');\r\n                    a.href = url;\r\n                });\r\n                window.location.href = response.url;\r\n            });\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Box display=\"flex\" className={classes.head} flexWrap=\"wrap\">\r\n\r\n                <CSVReader\r\n                    cssClass=\"react-csv-input\"\r\n                    label=\".csv with liver disease symptoms:\"\r\n                    onFileLoaded={handleForce}\r\n                    parserOptions={papaparseOptions}\r\n                    inputStyle={{opacity: 1, width: '170px', color: 'blue'}}\r\n                />\r\n                <IconLabelButtons func={downloadResult} disabled={result} label={\"Result\"}/>\r\n                <p>select csv file or enter values manually and submit</p>\r\n\r\n            </Box>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Upload;"]},"metadata":{},"sourceType":"module"}